<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AsoPMR</title>
    <link rel="icon" href="../img/asoPMR-logo-rounded.png">
    <link rel="stylesheet" href="../css/header.css" />
    <link rel="stylesheet" href="../css/us.css" />
    <link rel="stylesheet" href="../css/footer.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Hreflang tags (for SEO) -->
    <link rel="alternate" hreflang="en" href="https://asopmr.org/en/" />
    <link rel="alternate" hreflang="es" href="https://asopmr.org/es/" />
</head>

<header class="site-header">
    <div class="logo-language-container">
        <!-- Logo -->
        <a href="index.html" class="logo-container">
            <img class="logo" src="../img/asoPMR-logo.png" alt="AsoPMR Logo">
        </a>
    </div>



    <!-- Mobile Menu Button -->
    <button class="menu-toggle" aria-label="Abrir menú">
        ☰
    </button>

    <!-- Navigation Bar -->
    <nav class="nav-bar">
        <ul>
            <li><a href="#">Nosotros</a></li>
            <li class="dropdown">
                <a href="#">Soluciones</a>
                <ul class="dropdown-content">
                    <li><a href="#">Instituciones</a></li>
                    <li><a href="#">Socios</a></li>
                </ul>
            </li>
            <li><a href="#">Blog</a></li>
            <li><a href="#">Hazte socio</a></li>
            <li><a href="#">Contacto</a></li>
        </ul>
        <button class="colaborate-button">COLABORA</button>
    </nav>
</header>

<body>
    <!-- MISSION SECTION AND VISION (mission-vision) -->
    <section class="mission-vision">
        <div class="content">
            <div class="mission">
                <h1 class="title">
                    MISIÓN
                </h1>
                <h2 class="subtitle">
                    Proporcionar servicios y tecnologías innovadoras que faciliten la movilidad inclusiva y autonomía al
                    colectivo PMR, a nivel internacional, promoviendo el respeto de sus derechos y su inclusión social.
                </h2>
            </div>

            <div class="vision">
                <h1 class="title">
                    VISIÓN
                </h1>
                <h2 class="subtitle">
                    AsoPMR aspira a ser una organización líder en la promoción de la movilidad inclusiva y sostenible
                    para el colectivo.
                </h2>
            </div>
        </div>

        <div class="images">
            <img class="up" src="../img/us/eclipse_2.webp" alt="Persona utilizando la app Park4Dis en su tablet">
            <img class="down" src="../img/us/eclipse_1.webp" alt="Persona ayudando a una persona PMR">
        </div>
    </section>

    <!-- JOIN COMMUNITY SECTION (join-community) -->
    <section class="join-community">
        <div class="title">
            <h1>
                Únete a nuestra comunidad y ayúdanos a crear una sociedad más inclusiva
            </h1>
        </div>
        <div class="content">
            <div class="subtitle">
                <h2>
                    Como socio de AsoPMR no solo accederás a servicios y asesoramiento personalizado, sino que
                    <span class="highlight">
                        te convertirás en parte activa de un movimiento que trabaja día a día por conseguir una
                        movilidad inclusiva universal.
                    </span>
                </h2>
                <button>
                    ¡HAZTE SOCIO!
                </button>
            </div>

            <img src="../img/index/PMR-person-in-wheelchair-office.webp"
                alt="Persona PMR en silla de ruedas en una officina">
        </div>
    </section>

    <script>
        // Load with page
        document.addEventListener('DOMContentLoaded', function () {
            const menuToggle = document.querySelector('.menu-toggle');
            const navBar = document.querySelector('.nav-bar');

            // Event listeners for menu toggle(small screens)
            menuToggle.addEventListener('click', function () {
                navBar.classList.toggle('active');
            });
        });

        // Make h3 grid-items from SERVICE-BENEFITS SECTION have same height
        function setEqualH3Height(itemsPerRow) {
            const gridContainer = document.querySelector('.grid-container');
            const gridItems = document.querySelectorAll('.grid-item');

            for (let i = 0; i < gridItems.length; i += itemsPerRow) {
                const rowItems = Array.from(gridItems).slice(i, i + itemsPerRow);
                let maxHeight = 0;
                const h3Elements = [];

                rowItems.forEach(item => {
                    const h3 = item.querySelector('h3');
                    if (h3) {
                        h3Elements.push(h3);
                        h3.style.height = 'auto';
                        maxHeight = Math.max(maxHeight, h3.offsetHeight);
                    }
                });

                h3Elements.forEach(h3 => {
                    h3.style.height = `${maxHeight}px`;
                });
            }
        }

        // Handle case small screesn with two items per column
        function handleResize() {
            const screenWidth = window.innerWidth;
            let itemsPerRow = 3;
            if (screenWidth < 576) {
                itemsPerRow = 2;
            }

            setEqualH3Height(itemsPerRow);
        }
        document.addEventListener('DOMContentLoaded', handleResize);
        window.addEventListener('resize', handleResize);


        // PARK4DIS SECTION (park4dis-sample) circles
        function drawCircleWithText(canvasId, text, fillColor) {
            const canvas = document.getElementById(canvasId);
            const ctx = canvas.getContext('2d');
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const radius = Math.min(centerX, centerY) - 10; // Adjust for padding

            // Clear the canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw the circle
            ctx.beginPath();
            ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            ctx.fillStyle = fillColor; // Use the passed fillColor
            ctx.fill();

            // Draw the text with line breaks and padding
            ctx.font = `1.5rem Borna`; /* Ensure Borna font is available or use a fallback */
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';
            ctx.fillStyle = 'white';

            const words = text.split(' ');
            let line = '';
            const lineHeight = 20; // Adjust as needed for line spacing
            const verticalOffset = 0; // Adjust vertical positioning if needed
            const paddingVertical = 10; // Add vertical padding

            let y = centerY - (Math.ceil(ctx.measureText(text).width / (radius * 2 - 2 * paddingVertical)) * lineHeight) / 2 + verticalOffset + paddingVertical / 2;

            for (let n = 0; n < words.length; n++) {
                const testLine = line + words[n] + ' ';
                const metrics = ctx.measureText(testLine);
                const testWidth = metrics.width;

                // Adjust the available width for text based on the circle radius and some padding
                const availableWidth = radius * 2 - 2 * paddingVertical;

                if (testWidth > availableWidth && n > 0) {
                    ctx.fillText(line, centerX, y);
                    line = words[n] + ' ';
                    y += lineHeight;
                } else {
                    line = testLine;
                }
            }
            ctx.fillText(line, centerX, y);
        }

        // Define the color once
        const orangeAso = '#FF925C';
        const orangeDarkAso = '#FF7733';

        function resizeCanvas(canvasId) {
            const canvas = document.getElementById(canvasId);
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
        }

        // Resize canvases on load and resize
        window.addEventListener('load', () => {
            resizeCanvas('center-circle');
            resizeCanvas('bottom-left-circle');
            resizeCanvas('bottom-cut-circle');

            // Call the function for each circle with its respective text and color
            drawCircleWithText('center-circle', 'Park4Dis People', orangeAso);
            drawCircleWithText('bottom-left-circle', '', orangeDarkAso);
            drawCircleWithText('bottom-cut-circle', 'Aparcamiento sin complicaciones para personas con movilidad reducida', orangeAso);
        });

        window.addEventListener('resize', () => {
            resizeCanvas('center-circle');
            resizeCanvas('bottom-left-circle');
            resizeCanvas('bottom-cut-circle');
            drawCircleWithText('center-circle', 'Park4Dis People', orangeAso);
            drawCircleWithText('bottom-left-circle', '', orangeDarkAso);
            drawCircleWithText('bottom-cut-circle', 'Aparcamiento sin complicaciones para personas con movilidad reducida', orangeAso);
        });
    </script>

</body>

<footer class="site-footer">
    <div class="asoPMR-info">
        <div class="asoPMR-content-wrapper">
            <div class="logo column">
                <img src="../img/asoPMR-logo-vertical.png" alt="Logo vertical de AsoPMR">
            </div>
            <div class="contact column">
                <h1>
                    Gran Via 630 4ª p. 08007 ​Barcelona
                </h1>
                <button>
                    asopmr@asopmr.org
                </button>
            </div>

            <div class="news column">
                <h1>
                    Mantente al día
                </h1>

                <div>
                    <h2>
                        <u>
                            LinkedIn
                        </u>
                    </h2>
                    <h2>
                        <u>
                            Facebook
                        </u>
                    </h2>
                    <h2>
                        <u>
                            X-Twiiter
                        </u>
                    </h2>
                </div>
            </div>

            <div class="more-info column">
                <h1>
                    Descubre mucho más
                </h1>

                <div>
                    <h2>
                        <u>
                            Blog
                        </u>
                    </h2>
                    <h2>
                        <u>
                            Newsletter
                        </u>
                    </h2>
                    <h2>
                        <u>
                            Kit de prensa
                        </u>
                    </h2>
                </div>
            </div>
        </div>
    </div>

    <div class="aso-policies">
        <div class="policies">
            <p><a href="#">Aviso legal</a></p>
            <p><a href="#">Política de privacidad</a></p>
            <p><a href="#">Política de cookies</a></p>
            <p><a href="#">Plan de género</a></p>
        </div>

        <div class="inscribtion-info">
            <p>Inscrita en el registro de Asociaciones de Ámbito Nacional</p>
        </div>
    </div>
</footer>

</html>