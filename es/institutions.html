<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instituciones</title>
    <link rel="icon" href="../img/asoPMR-logo-rounded.webp">
    <link rel="stylesheet" href="../css/institutions.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">

    <!-- Hreflang tags (for SEO) -->
    <link rel="alternate" hreflang="en" href="https://asopmr.org/en/" />
    <link rel="alternate" hreflang="es" href="https://asopmr.org/es/" />
</head>

<!-- HEADER SECTION (header) -->
<header id="header-placeholder"></header>

<body>
    <!-- SERVICES SECTION (services) -->
    <section class="services">
        <h1>
            Servicios de consultoría y auditoría para ayuntamientos, enfocados en mejorar la accesibilidad urbana.
        </h1>
        <img src="../img/institutions/PMR-person-coffe-work.webp"
            alt="Persona PMR en una cafeteria y mirando su laptop">
    </section>

    <!-- IMPROVE MOBILITY SECTION (improve-mobility) -->
    <section class="improve-mobility">
        <h1>
            AYUDAMOS A CONSEGUIR UNA MOVILIDAD SEGURA E INCLUSIVA EN LOS MUNICIPIOS.
        </h1>
    </section>

</body>

<!-- FOOTER SECTION (footer) -->
<footer id="footer-placeholder"></footer>

<script>
    // Function to load content from another HTML file
    function loadHTML(filename, elementId) {
        return fetch(filename)
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status} for ${filename}`);
                }
                return response.text();
            })
            .then(html => {
                document.getElementById(elementId).innerHTML = html;
            })
            .catch(error => {
                console.error('Error loading HTML:', error);
            });
    }

    // Load content and then initialize scripts
    document.addEventListener('DOMContentLoaded', function () {
        // Load all HTML fragments first
        const headerPromise = loadHTML('header.html', 'header-placeholder');
        const footerPromise = loadHTML('footer.html', 'footer-placeholder');

        Promise.all([headerPromise, footerPromise, joinCommunityPromise])
            .then(() => {
                const menuToggle = document.querySelector('.menu-toggle');
                const navBar = document.querySelector('.nav-bar');

                if (menuToggle && navBar) {
                    menuToggle.addEventListener('click', function () {
                        navBar.classList.toggle('active');
                    });
                } else {
                    console.warn("Menu toggle o nav bar no encontrados. Revisa tu estructura HTML.");
                }
            })
            .catch(error => {
                console.error('One or more HTML fragments failed to load:', error);
            });
    });
</script>

</html>